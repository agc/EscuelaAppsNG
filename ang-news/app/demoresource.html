!doctype html>
<html ng-app="Demo">
<head>
    <meta charset="utf-8" />
    <title>Using RESTful Controllers In AngularJS Resources</title>


    <script src="js/lib//angular/angular.js"></script>

    <script src="js/lib/angular-resource/angular-resource.js"></script>>
    <script type="text/javascript">

        var app = angular.module( "Demo", [ "ngResource" ] );


        app.run(
                function( $resource ) {


// When defining the resource, we get a few actions
// out of the box, like get() and query(), based on
// standard HTTP verbs. But, we can also use RESTful
// controller to change resource state using an
// action that falls outside normal CRUD operations.
                    var messages = $resource(
                            "http://192.168.1.60:3000/api/messages/:listController:id/:docController",
                            {
                                id: "@id",
                                listController: "@listController",
                                docController: "@docController"
                            },
                            {
                                clear: {
                                    method: "POST",
                                    params: {
                                        listController: "clear-all"
                                    }
                                },
                                archive: {
                                    method: "POST",
                                    params: {
                                        docController: "archive"
                                    }
                                }
                            }
                    );

// Now that we have our resource defined, let's invoke
// it with various configurations.

// GET without ID.
                    messages.query();

// Post with our list controller.
                    messages.clear();

// GET with ID.
                    messages.get(
                            {
                                id: 4
                            }
                    );

// POST with our document "controller".
                    messages.archive(
                            {
                                id: 8
                            }
                    );

                }
        );


    </script>
</head>
<body>
<!-- Left intentionally blank. -->
</body>
</html>